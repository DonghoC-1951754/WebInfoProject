scalar Date

type Profile {
    id: ID!
    firstName: String!
    name: String!
    email: String!
    password: String!
    dateOfBirth: Date!
    location: Location!
    gender: String!
    educations: [Education!]
    experiences: [Experience!]
}

type Location{
    country: String!
    city: String!
    cityCode: String!
    street: String
    houseNumber: String
}

type Education {
    institution: String!
    degree: String!
    fieldOfStudy: String!
    yearGraduated: Int
}

type Experience {
    companyName: Company!
    jobTitle: String!
    startDate: String
    endDate: String
    description: String
}

type Vacancy {
    id: ID!
    jobTitle: String!
    companyName: String!
    location: String
    requiredSkills: [String]
    postedBy: Company
    startDate: String
    endDate: String
    active: Boolean
}

type Company {
    id: ID!
    name: String!
    location: String
    vacancies: [Vacancy]
}

# Inputs
input LocationInput {
    country: String!
    city: String!
    cityCode: String!
    street: String
    houseNumber: String
}

input EducationInput {
    institution: String!
    degree: String!
    fieldOfStudy: String!
    yearGraduated: Int
}

input ExperienceInput {
    companyName: String!
    jobTitle: String!
    startDate: String
    endDate: String
    description: String
}


#Queries
type Query {
    profiles: [Profile]
    profile(id: ID!): Profile
    profileByEmail(email: String!): Profile
    vacancies: [Vacancy]
    vacancy(id: ID!): Vacancy
    searchProfilesByIndustry(industry: String!): [Profile]
    activeVacancies: [Vacancy]
}

# Mutation Type: Modify data in the system
type Mutation {
    createProfile(
        firstName: String!,
        name: String!,
        email: String!,
        password: String!,
        dateOfBirth: Date!,
        location: LocationInput!,
        gender: String!
    ): Profile
        # New Mutation for Updating a Profile
    updateProfile(
        id: ID!,
        firstName: String,
        name: String,
        email: String,
        password: String,
        dateOfBirth: Date,
        location: LocationInput,
        gender: String,
        educations: [EducationInput!],
        experiences: [ExperienceInput!]
    ): Profile

    createVacancy(jobTitle: String!, companyName: String!, location: String!, requiredSkills: [String]): Vacancy
    updateVacancy(id: ID!, jobTitle: String, location: String, requiredSkills: [String]): Vacancy
    deleteVacancy(id: ID!): String
}